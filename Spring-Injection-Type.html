<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>Spring FrameWork Injection Type</title>
    <meta name="description" content="SeongJin`s LogBook - " />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/logbook/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/logbook/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/logbook/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/logbook/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/logbook/page2/" />

    <meta property="og:site_name" content="SeongJin`s LogBook" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="SeongJin`s LogBook" />
    <meta property="og:description" content="" />
    <meta property="og:url" content="/logbook/" />
    <meta property="og:image" content="/logbook/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="SeongJin`s LogBook" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:url" content="/logbook/" />
    <meta name="twitter:image:src" content="/logbook/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/logbook/",
    "image": "/logbook/assets/images/cover1.jpg",
    "description": ""
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="SeongJin`s LogBook" href="/logbook/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/logbook/">Home</a></li>
        <!--<li class="nav-about " role="presentation"><a href="/logbook/about">About</a></li>-->
        <li class="nav-fables " role="presentation"><a href="/logbook/tag/fables">Fables</a></li>
        <li class="nav-speeches " role="presentation"><a href="/logbook/tag/speeches">Speeches</a></li>
        <li class="nav-fiction " role="presentation"><a href="/logbook/tag/fiction">Fiction</a></li>
        <li class="nav-author " role="presentation"><a href="/logbook/author/casper">Author</a></li>
        <li class="nav-boost " role="presentation"><a href="/logbook/tag/boost">BoostCamp 2기</a></li>
        <li class="nav-spring " role="presentation"><a href="/logbook/tag/spring">Spring</a></li>
        <li class="nav-javascript " role="presentation"><a href="/logbook/tag/javascript">Javascript</a></li>
        <li class="nav-java " role="presentation"><a href="/logbook/tag/java">Java</a></li>
    </ul>
    <!--<a class="subscribe-button icon-feed" href="/logbook/feed.xml">Subscribe</a>-->
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/logbook/assets/images/cover6.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/logbook/"><img src="/logbook/assets/images/logbook.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-spring">

        <header class="post-header">
            <h1 class="post-title">Spring FrameWork Injection Type</h1>
            <section class="post-meta">
            <!-- <a href='/logbook/'>SeongJin Kim</a> -->
            <time class="post-date" datetime="2017-09-01">02 Sep 2017</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/logbook/tag/boost'>Boost</a>,
                       
                
                    
                       <a href='/logbook/tag/spring'>Spring</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <h3 id="injection-종류">Injection 종류</h3>
<p><strong>가장 이해가 잘되었던 Post :</strong> <br />
<a href="http://vojtechruzicka.com/field-dependency-injection-considered-harmful/">Field Dependency Injection Considered Harmful</a></p>
<blockquote>
  <p>Spring이 Bean들을 Injection 하는 방법은 대표적으로 3개이다.</p>
  <ol>
    <li>Setter Injection</li>
    <li>Constructor Injection</li>
    <li>Field Injection</li>
  </ol>
</blockquote>

<blockquote>
  <p>그리고 Spring에서는 지원하지 않는 Injection 방식인 Interface를 활용한 방법이 있다고한다.
코드 예시는 다음과 같다.</p>
</blockquote>

<p>1.Setter Injection</p>
<div class="highlighter-rouge"><pre class="highlight"><code>class MyController {
     private MyService myservice;
     @Autowired
     public setMyservice(Myservice myservice) {
          this.myservice = myservice;
     }
}

</code></pre>
</div>
<p>2.Constructor Injection</p>
<div class="highlighter-rouge"><pre class="highlight"><code>class MyController {    
     private MyService myservice;
     @Autowired
     public MyController(Myservice myservice) {
          this.myservice = myservice;
     }
}

</code></pre>
</div>

<p>3.Field Injection</p>
<div class="highlighter-rouge"><pre class="highlight"><code>class MyController {
     @Autowired
     CategoryService categoryService;
}
</code></pre>
</div>

<blockquote>
  <p>성능상으로는 3가지 방법모드 같다고 판단 된다.
Bean이 Injection 되는 시점이 조금 씩다를뿐</p>
</blockquote>

<blockquote>
  <p>코드의 라인수로만 보면 Field Injection을 사용하는 것이 가장 간단하다.
하지만 Spring에서는 Field Injection사용을 지양할 것을 권유한다.
IntelliJ에서도 Field Injection을 사용하면 Warning Comment가 생긴다.</p>
</blockquote>

<blockquote>
  <p>인터넷을 뒤져봐도 Setter VS Constructor 와 관련된 내용이 많고 Field Injection은 거의 언급조차 되지 않는다.</p>
</blockquote>

<blockquote>
  <p>먼저 Setter와 Constructor Injection차이를 알아보자.</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>1. setter Injection in more readable than constructor injection in Spring configuration file usually applicationContext.xml .   
</code></pre>
</div>

<blockquote>
  <p>setter Injection의 경우 인젝션할 클래스가 함수명에 명시되기때문에 설정파일에서 더 직관적으로 읽을 수 있다
constructor의 경우 설정파일에서 인젝션을 명시한경우 실제 클래스파일을 봐야지만 생성자가 무엇을 주입하는지 알수 있다.
하지만 xml 형태의 설정파일뿐만아니라 Java기반으로 설정하는 방법도 있다. Java파일을 기반으로 설정한다면 Constructor를 통해서도 
쉽게 파악이 가능할 것같다.</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>2. one of the drawback of  setter injection is that it does not ensures dependency Injection. 
which means you may have an object with incomplete dependency. On other hand constructor Injection does not allow you to construct object, until your dependencies are ready.
</code></pre>
</div>

<blockquote>
  <p>Injection 시점과 관련된 이야기인듯하다. 먼저 자바에서 클래스가 만들어지는 시점(Bean이생성되는 시점)에 <code class="highlighter-rouge">New ClassName()</code>을 통해서 클래스의 Constructor가 실행된다.
즉, Constructor를 통해서 injection을 한다면 “Bean생성” == “외부 Bean Injection” 이 성립하게된다. 그렇기 때문에 Constructor Injection은 의존성을 주입하지 않고서는 Bean이 생성될 수 없으므로 
확실한 Injection을 보장한다. <br />
하지만 Setter Injection의 경우, 의존성을 주입받는 Bean의 생성과 이 Bean에 다른 Bean을 주입시키는 과정이 분리되게 된다.
먼저 의존성이 주입되지 않는 Bean을 생성한뒤 Setter함수를 통해서 의존성을 주입하게 된다. 
그렇기 때문에 이방법은 의존성이 주입됐다는 것을 보장할 수가 없다.</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>3. In other words, we can force a user of our class (again, this might be Spring but it could also be a unit test that instantiates your class directly) to instantiate it while passing in arguments.
</code></pre>
</div>

<blockquote>
  <p>이 말이 가장 중요한 말이 것 같다. 사실 1번과 2번이 잘 이해가 안되었었다. ‘어짜피 Spring이 결국에는 똑같은 결과를 내어주는데 이게 무슨 의미가 있는가?’라고 생각했다.
하지만 3번을 읽고 <code class="highlighter-rouge">POJO</code> 와 <code class="highlighter-rouge">Unit Test 에서의 Unit</code>이라는 것의 의미를 조금더 알게 되었다. 
스프링은 자바기반 Framework에 불과 하다. 즉 개발자가 작성한 코드와 Spring framework이 완전히 분리가 될 수 있어야한다.
진정한 UnitTest란 Framework에 의존하지 않는 상태에서 Test가 되야한다.</p>
</blockquote>

<p><strong>그렇기 때문에 Feild Injection을 사용한다면 개발자가 작성한 코드가 Spring의 구조에서 벗어나게된다면 Bean을 주입할 코드가 추가로 작성이 되어야한다.</strong></p>

<p>field에 어노테이션을 다는것만으로 Spring은 Injection을 해주지만 실제로는 외부에서 객체를 받는 함수가 존재해야한다.</p>

<p>사실 Spring의 성능상에 차이가 있는 줄알고 찾아봤지만 오히려 뭔가 OOP적인 느낌이 무엇인지 알게 되었다.</p>



        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/logbook/author/sjkim2322" style="background-image: url(/logbook/assets/images/profile.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/logbook/author/sjkim2322">SeongJin Kim</a></h4>
                
                
                    <p> </p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> Seoul, Korea</span> 
                    <span class="author-link icon-link"><a href="http://sjkim2322.github.io/logbook/"> sjkim2322.github.io/logbook/</a></span> 
                </div>
            </section>

            <!-- /author  -->

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Spring FrameWork Injection Type&amp;url=http://sjkim2322.github.io/logbook/Spring-Injection-Type"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://sjkim2322.github.io/logbook/Spring-Injection-Type"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://sjkim2322.github.io/logbook/Spring-Injection-Type"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            <!-- Add Disqus Comments -->
            
            
        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story " style="background-image: url(/logbook/assets/images/cover6.jpg)" href="/logbook/Spring-Request-Parameter-Annotation">
            <section class="post">
                <h2>Spring Controller의 Parameter Annotation</h2>
                <p>### Controller의 Parameter > Controller클래스입장에서 URI요청에 대한 Entry Point (실제 Entry Point는 Controller이전에 수많은 것들을...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/logbook/assets/images/cover6.jpg)" href="/logbook/BoostCamp2-Web-Wiki">
            <section class="post">
                <h2>BoostCamp2기 wiki</h2>
                <p>BoostCamp 2기 Web과정 WIKI 부스트캠프 2기 Web 과정을 수료한 다른팀들 Wiki 입니다. 네버레스트 팀 Wiki...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/logbook/">SeongJin`s LogBook</a> &copy; 2017</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/biomadeira/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/logbook/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/logbook/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-69281367-1', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
